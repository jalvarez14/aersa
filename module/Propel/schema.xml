<?xml version="1.0" encoding="utf-8"?>
<!--Autogenerated by PropelSchemaReverseTask class.-->
<database name="aersa" defaultIdMethod="native">
  <table name="almacen" phpName="Almacen" idMethod="native">
    <column name="idalmacen" phpName="Idalmacen" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="idsucursal" phpName="Idsucursal" type="INTEGER" required="true"/>
    <column name="almacen_nombre" phpName="AlmacenNombre" type="VARCHAR" size="255" required="true"/>
    <column name="almacen_encargado" phpName="AlmacenEncargado" type="VARCHAR" size="45" required="true"/>
    <column name="almacen_estatus" phpName="AlmacenEstatus" type="BOOLEAN" size="1" required="true"/>
    <foreign-key foreignTable="sucursal" name="idsucursal_almacen" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idsucursal" foreign="idsucursal"/>
    </foreign-key>
    <index name="idsucursal">
      <index-column name="idsucursal"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="categoria" phpName="Categoria" idMethod="native">
    <column name="idcategoria" phpName="Idcategoria" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="categoria_nombre" phpName="CategoriaNombre" type="VARCHAR" size="255" required="true"/>
    <column name="categoria_padre" phpName="CategoriaPadre" type="INTEGER" required="false"/>
    <column name="categoria_almacenable" phpName="CategoriaAlmacenable" type="BOOLEAN" size="1" required="false"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="codigobarras" phpName="Codigobarras" idMethod="native">
    <column name="idcodigobarras" phpName="Idcodigobarras" type="INTEGER" primaryKey="true" required="true"/>
    <column name="idproducto" phpName="Idproducto" type="INTEGER" required="true"/>
    <column name="codigobarras_codigo" phpName="CodigobarrasCodigo" type="VARCHAR" size="45" required="true"/>
    <column name="codigobarras_cantidad" phpName="CodigobarrasCantidad" type="FLOAT" required="true"/>
    <foreign-key foreignTable="producto" name="idproducto_codigobarras" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idproducto" foreign="idproducto"/>
    </foreign-key>
    <index name="idproducto">
      <index-column name="idproducto"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="conceptosalida" phpName="Conceptosalida" idMethod="native">
    <column name="idconceptosalida" phpName="Idconceptosalida" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="conceptosalida_nombre" phpName="ConceptosalidaNombre" type="VARCHAR" size="255" required="true"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="empresa" phpName="Empresa" idMethod="native">
    <column name="idempresa" phpName="Idempresa" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="empresa_nombrecomercial" phpName="EmpresaNombrecomercial" type="VARCHAR" size="255" required="true"/>
    <column name="empresa_razonsocial" phpName="EmpresaRazonsocial" type="VARCHAR" size="255" required="true"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="producto" phpName="Producto" idMethod="native">
    <column name="idproducto" phpName="Idproducto" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="producto_nombre" phpName="ProductoNombre" type="LONGVARCHAR" required="true"/>
    <column name="idcategoria" phpName="Idcategoria" type="INTEGER" required="false"/>
    <column name="idsubcategoria" phpName="Idsubcategoria" type="INTEGER" required="false"/>
    <column name="producto_rendimiento" phpName="ProductoRendimiento" type="INTEGER" required="false"/>
    <column name="producto_ultimocosto" phpName="ProductoUltimocosto" type="FLOAT" required="false"/>
    <column name="idunidadmedida" phpName="Idunidadmedida" type="INTEGER" required="false"/>
    <column name="producto_baja" phpName="ProductoBaja" type="BOOLEAN" size="1" required="true"/>
    <column name="producto_tipo" phpName="ProductoTipo" type="CHAR" sqlType="enum('simple','subreceta','plu')" required="true"/>
    <column name="producto_costo" phpName="ProductoCosto" type="FLOAT" required="false"/>
    <foreign-key foreignTable="unidadmedida" name="idunidadmedida_producto" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idunidadmedida" foreign="idunidadmedida"/>
    </foreign-key>
    <index name="idunidadmedida">
      <index-column name="idunidadmedida"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="proveedor" phpName="Proveedor" idMethod="native">
    <column name="idproveedor" phpName="Idproveedor" type="INTEGER" primaryKey="true" required="true"/>
    <column name="idempresa" phpName="Idempresa" type="INTEGER" autoIncrement="true" required="true"/>
    <column name="proveedor_nombrecomercial" phpName="ProveedorNombrecomercial" type="VARCHAR" size="255" required="true"/>
    <column name="proveedor_razonsocial" phpName="ProveedorRazonsocial" type="VARCHAR" size="255" required="true"/>
    <column name="proveedor_RFC" phpName="ProveedorRfc" type="VARCHAR" size="45" required="true"/>
    <column name="proveedor_telefono" phpName="ProveedorTelefono" type="VARCHAR" size="45" required="true"/>
    <column name="proveedor_calle" phpName="ProveedorCalle" type="VARCHAR" size="45" required="false"/>
    <column name="proveedor_numero" phpName="ProveedorNumero" type="VARCHAR" size="45" required="false"/>
    <column name="proveedor_interior" phpName="ProveedorInterior" type="VARCHAR" size="45" required="false"/>
    <column name="proveedor_colonia" phpName="ProveedorColonia" type="VARCHAR" size="45" required="false"/>
    <column name="proveedor_ciudad" phpName="ProveedorCiudad" type="VARCHAR" size="45" required="false"/>
    <column name="proveedor_estado" phpName="ProveedorEstado" type="VARCHAR" size="45" required="false"/>
    <foreign-key foreignTable="empresa" name="idempresa_proveedor" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idempresa" foreign="idempresa"/>
    </foreign-key>
    <index name="idempresa">
      <index-column name="idempresa"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="receta" phpName="Receta" idMethod="native">
    <column name="idreceta" phpName="Idreceta" type="INTEGER" primaryKey="true" required="true"/>
    <column name="idproducto" phpName="Idproducto" type="INTEGER" required="true"/>
    <column name="idproductoreceta" phpName="Idproductoreceta" type="INTEGER" required="true"/>
    <column name="receta_cantidad" phpName="RecetaCantidad" type="FLOAT" required="true"/>
    <foreign-key foreignTable="producto" name="idproducto_receta" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idproducto" foreign="idproducto"/>
    </foreign-key>
    <foreign-key foreignTable="producto" name="idproductoreceta_receta" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idproductoreceta" foreign="idproducto"/>
    </foreign-key>
    <index name="idproducto">
      <index-column name="idproducto"/>
    </index>
    <index name="idproductoreceta">
      <index-column name="idproductoreceta"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="rol" phpName="Rol" idMethod="native">
    <column name="idrol" phpName="Idrol" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="rol_nombre" phpName="RolNombre" type="VARCHAR" size="45" required="true"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="sucursal" phpName="Sucursal" idMethod="native">
    <column name="idsucursal" phpName="Idsucursal" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="sucursal_nombre" phpName="SucursalNombre" type="VARCHAR" size="45" required="true"/>
    <column name="idempresa" phpName="Idempresa" type="INTEGER" required="true"/>
    <foreign-key foreignTable="empresa" name="idempresa_sucursal" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idempresa" foreign="idempresa"/>
    </foreign-key>
    <index name="idempresa">
      <index-column name="idempresa"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="tasaiva" phpName="Tasaiva" idMethod="native">
    <column name="idtasaiva" phpName="Idtasaiva" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="tasaiva_valor" phpName="TasaivaValor" type="FLOAT" required="true"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="unidadmedida" phpName="Unidadmedida" idMethod="native">
    <column name="idunidadmedida" phpName="Idunidadmedida" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="unidadmedida_nombre" phpName="UnidadmedidaNombre" type="VARCHAR" size="255" required="true"/>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="usuario" phpName="Usuario" idMethod="native">
    <column name="idusuario" phpName="Idusuario" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="idrol" phpName="Idrol" type="INTEGER" required="true"/>
    <column name="usuario_nombre" phpName="UsuarioNombre" type="VARCHAR" size="255" required="true"/>
    <column name="usuario_estatus" phpName="UsuarioEstatus" type="BOOLEAN" size="1" required="true"/>
    <column name="usuario_username" phpName="UsuarioUsername" type="VARCHAR" size="45" required="true"/>
    <column name="usuario_password" phpName="UsuarioPassword" type="VARCHAR" size="45" required="true"/>
    <foreign-key foreignTable="rol" name="idrol_usuario" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idrol" foreign="idrol"/>
    </foreign-key>
    <index name="idrol">
      <index-column name="idrol"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="usuarioempresa" phpName="Usuarioempresa" idMethod="native">
    <column name="idusuarioempresa" phpName="Idusuarioempresa" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="idusuario" phpName="Idusuario" type="INTEGER" required="true"/>
    <column name="idempresa" phpName="Idempresa" type="INTEGER" required="true"/>
    <foreign-key foreignTable="empresa" name="idempresa_usuarioempresa" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idempresa" foreign="idempresa"/>
    </foreign-key>
    <foreign-key foreignTable="usuario" name="idusuario_usuarioempresa" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idusuario" foreign="idusuario"/>
    </foreign-key>
    <index name="idusuario">
      <index-column name="idusuario"/>
    </index>
    <index name="idempresa">
      <index-column name="idempresa"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
  <table name="usuariosucursal" phpName="Usuariosucursal" idMethod="native">
    <column name="idusuariosucursal" phpName="Idusuariosucursal" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="idusuario" phpName="Idusuario" type="INTEGER" required="true"/>
    <column name="idsucursal" phpName="Idsucursal" type="INTEGER" required="true"/>
    <foreign-key foreignTable="sucursal" name="idsucursal_usuariosucursal" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idsucursal" foreign="idsucursal"/>
    </foreign-key>
    <foreign-key foreignTable="usuario" name="idusuario_usuariosucursal" onDelete="CASCADE" onUpdate="CASCADE">
      <reference local="idusuario" foreign="idusuario"/>
    </foreign-key>
    <index name="idusuario">
      <index-column name="idusuario"/>
    </index>
    <index name="idsucursal">
      <index-column name="idsucursal"/>
    </index>
    <vendor type="mysql">
      <parameter name="Engine" value="InnoDB"/>
    </vendor>
  </table>
</database>
